<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "http://mybatis.org/dtd/mybatis-3-mapper.dtd" "mybatis-3-mapper.dtd" >
<mapper namespace="tv.buka.dao.UserMapper">


    <select id="getOrganization" parameterType="java.util.Map" resultType="tv.bk.pojo.Organization">
        SELECT
        id,user_id,user_phone_num,user_nickname,create_time,dt_permission,role
        FROM ss_organization
        WHERE user_id=#{user_id}
        <if test="now!=0 and now !=null">
            and start_term &lt;=#{now} and end_term &gt;=#{now}
        </if>
    </select>

    <insert id="insertorganization" parameterType="java.util.Map">
        INSERT INTO `ss_organization` (`user_id`,`user_phone_num`,`user_nickname`,`create_time`,`dt_permission`)
        VALUES (#{user_id},#{user_phone_num},#{user_nickname},#{create_time},#{dt_permission})
    </insert>
</mapper>
